!function(a){function b(a,b,c){a in h||(h[a]={name:a,declarative:!0,deps:b,declare:c,normalizedDeps:b})}function c(a){return l[a]||(l[a]={name:a,dependencies:[],exports:{},importers:[]})}function d(b){if(!b.module){var e=b.module=c(b.name),f=b.module.exports,i=b.declare.call(a,function(a,b){if(e.locked=!0,"object"==typeof a)for(var c in a)f[c]=a[c];else f[a]=b;for(var d=0,g=e.importers.length;g>d;d++){var h=e.importers[d];if(!h.locked)for(var i=0;i<h.dependencies.length;++i)h.dependencies[i]===e&&h.setters[i](f)}return e.locked=!1,b},b.name);e.setters=i.setters,e.execute=i.execute;for(var j=0,k=b.normalizedDeps.length;k>j;j++){var m,n=b.normalizedDeps[j],o=h[n],p=l[n];p?m=p.exports:o&&!o.declarative?m=o.esModule:o?(d(o),p=o.module,m=p.exports):m=g(n),p&&p.importers?(p.importers.push(e),e.dependencies.push(p)):e.dependencies.push(null),e.setters[j]&&e.setters[j](m)}}}function e(a){var b={};if("object"==typeof a||"function"==typeof a)if(j){var c;for(var d in a)(c=Object.getOwnPropertyDescriptor(a,d))&&k(b,d,c)}else{var e=a&&a.hasOwnProperty;for(var d in a)(!e||a.hasOwnProperty(d))&&(b[d]=a[d])}return b.default=a,k(b,"__useDefault",{value:!0}),b}function f(b,c){var d=h[b];if(d&&!d.evaluated&&d.declarative){c.push(b);for(var e=0,j=d.normalizedDeps.length;j>e;e++){var k=d.normalizedDeps[e];-1==i.call(c,k)&&(h[k]?f(k,c):g(k))}d.evaluated||(d.evaluated=!0,d.module.execute.call(a))}}function g(a){if(n[a])return n[a];if("@node/"==a.substr(0,6))return m(a.substr(6));var b=h[a];if(!b)throw"Module "+a+" not present.";return d(h[a]),f(a,[]),h[a]=void 0,b.declarative&&k(b.module.exports,"__esModule",{value:!0}),n[a]=b.declarative?b.module.exports:b.esModule}var h={},i=Array.prototype.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},j=!0;try{Object.getOwnPropertyDescriptor({a:0},"a")}catch(a){j=!1}var k;!function(){try{Object.defineProperty({},"a",{})&&(k=Object.defineProperty)}catch(a){k=function(a,b,c){try{a[b]=c.value||c.get.call(a)}catch(a){}}}}();var l={},m="undefined"!=typeof System&&System._nodeRequire||"undefined"!=typeof require&&require.resolve&&"undefined"!=typeof process&&require,n={"@empty":{}};return function(a,c,d){return function(f){f(function(f){for(var h=0;h<c.length;h++)(function(a,b){b&&b.__esModule?n[a]=b:n[a]=e(b)})(c[h],arguments[h]);d({register:b});var i=g(a[0]);if(a.length>1)for(var h=1;h<a.length;h++)g(a[h]);return i.__useDefault?i.default:i})}}}("undefined"!=typeof self?self:global)(["1"],[],function(a){a.register("2",[],function(a,b){"use strict";b&&b.id;return{setters:[],execute:function(){a("default",angular.module("templates",[]).run(["$templateCache",function(a){a.put("src/component.html",'<div ng-show="isLoading" class="n-image__loader"></div>\n<img ng-hide="isLoading" src="" class="n-image"/>')}]))}}}),a.register("3",[],function(a,b){"use strict";b&&b.id;return{setters:[],execute:function(){var a;!function(a){var b=["templates"];angular.module("nImage",b)}(a||(a={}))}}}),a.register("4",[],function(a,b){"use strict";b&&b.id;return{setters:[],execute:function(){var a;!function(a){var b=function(){function a(){this.bindToController=!0,this.controller=c,this.controllerAs="nImage",this.restrict="EA",this.templateUrl="src/component.html",this.link=this.linkFn}return a.instance=function(){return new a},a.prototype.linkFn=function(a,b,c,d){function e(){h(),i().then(function(a){}).catch(function(a){}).finally(function(){d.isLoading=!1})}function f(){var a=b.find("n-image__loader");b.addClass("n-image__wrapper"),C.loadingTemplateUrl?q().then(function(b){a.append(b.data)}):C.loadingTemplate&&a.append(C.loadingTemplate),w?(b.addClass("n-image__aspect-wrapper"),b.addClass("n-image--ratio-"+w)):(u&&(b[0].style.width=u+"px"),v&&(b[0].style.height=v+"px"))}function g(){w?(b.removeClass("n-image__aspect-wrapper"),b.removeClass("n-image--ratio-"+w)):(u&&(b[0].style.width="auto"),v&&(b[0].style.height="auto"))}function h(){if(C.nodesCDN){var a="?",b=[];u&&b.push("w="+u),v&&b.push("h="+v),x&&z.indexOf(x)!==-1&&b.push("mode="+x),a+=b.join("&"),s+=a}}function i(){B=!0;var a=d.$q.defer(),c=b,e=c.find("img");return c.removeClass("n-image__fallback"),e[0].src=s,e[0].alt=t,e.one("load",function(){a.resolve()}),e.one("error abort",function(){e[0].src=C.fallbackImage,c.addClass("n-image__fallback"),e[0].alt="",g(),a.reject()}),a.promise}function j(b){try{return a.$eval(b)}catch(a){return b}}function k(){d.$timeout.cancel(r),r=d.$timeout(function(){var a,b,c,f=n(),g=m(),h=y===d.$window?o():p();b=y===d.$window?f+g:f,a=h-b,c=a<=C.offset,!B&&c&&e()},100)}function l(){d.$timeout.cancel(r),y.off("scroll",k),d.$window.off("resize",k),y!==d.$window&&y.off("resize",k),r=s=t=u=v=w=x=void 0,d.isLoading=!0,B=!1}function m(){var a=y;return void 0!==typeof a.pageYOffset?a.pageYOffset:void 0!==typeof a.scrollTop?a.scrollTop:document.documentElement.scrollTop||0}function n(){var a=y;return void 0!==a.innerHeight?a.innerHeight:void 0!==a.clientHeight?a.clientHeight:document.documentElement.clientHeight||0}function o(){var a=A[0].getBoundingClientRect();return a.top+m()-document.documentElement.clientTop}function p(){var a=A[0].getBoundingClientRect();return a.top-y.getBoundingClientRect().top}function q(){return d.$http.get(C.loadingTemplateUrl,{cache:d.$templateCache})}var r,s,t,u,v,w,x,y,z=["crop","resize","fit"];y=c.nImageContainer?document.getElementById(c.nImageContainer.substring(1)):d.$window;var A=b,B=!1,C={fallbackImage:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgeD0iMCIgeT0iMCIgdmlld0JveD0iMCAwIDEzMy41IDEwNC40IiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMzMuNSAxMDQuNCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PGcgZGlzcGxheT0ibm9uZSI+PGcgZGlzcGxheT0iaW5saW5lIj48cGF0aCBmaWxsPSIjQjRCNEI0IiBkPSJNLTQ0LjQtMjAuMmMwIDQuNCAwIDcuNSAwIDExLjQgLTEzLjQgMi4yLTI3IDQuNS00MS43IDYuOSAzLjUgMjIuNSA3IDQ0LjIgMTAuNiA2Ny4yIDE2LjUtMi42IDMyLTUgNDcuNy03LjQgMSAxLjEgMiAyLjIgNC4xIDQuNSAwLjYtNC40IDEuMS03LjYgMS4zLTkuNiAtMTYuNiAyLjgtMzIuMyA1LjQtNTAgOC40IDQuMi05LjEgNy42LTE2LjUgMTEuMy0yNC40IDMuMyAxLjcgNS45IDMgOS4zIDQuOCA1LjItOC4yIDEwLjQtMTYuNCAxNS45LTI1LjIgNC41IDUuNSA5LjYgOS45IDYuMSAxNy43IDIuNCAyLjYgNC43IDUuMiA4LjggOS43IC0xLjEtNy4yLTEuOC0xMi0zLTIwLjIgNC41IDQuOCA2LjYgNy4xIDkuMiA5LjlDLTkgMjguNy0zLjMgMjQgMy42IDE4LjNjNC43IDE5LjIgMjAuNyAzNC42IDkuOCA1Ny40IC0zMC4zLTE0LjYtNjAuNC0xLjktOTAuOSAxIC00LjkgMC41LTcuOS0yLjMtOC42LTcuMUMtOTAgNDUuMy05NCAyMC45LTk3LjgtMy40Yy0wLjYtNCAwLjUtNy45IDQuOC04LjdDLTc3LjItMTUtNjEuMy0xNy41LTQ0LjQtMjAuMnpNLTIzLjkgMWMyLjQtNC43IDMuNy03LjEgNS4zLTEwLjMgMTkuMiA0IDM4LjEgNy43IDU2LjggMTIuMSA1IDEuMiA1LjMgNi4zIDQuMyAxMC45QzM4IDM2LjUgMzMuNSA1OS40IDI4LjkgODIuMmMtMSA0LjgtMy4zIDkuMy04LjggOC40IC0xNy43LTIuOS0zNS4zLTYuNC01OS0xMC45IDIyLjQtMTUuNSAzOS44IDEuNSA1Ny41LTIuNCA0LjEtMjAuOCA4LjQtNDIuNCAxMi44LTY0LjhDMTIuOCA4LjctNC45IDUtMjMuOSAxeiIvPjwvZz48ZyBkaXNwbGF5PSJpbmxpbmUiPjxpbWFnZSBvdmVyZmxvdz0idmlzaWJsZSIgd2lkdGg9IjI2OSIgaGVpZ2h0PSIxODEiIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIDEgLTcwLjAyMjggLTQyLjA4MjUpIi8+PC9nPjxnIGRpc3BsYXk9ImlubGluZSI+PGltYWdlIG92ZXJmbG93PSJ2aXNpYmxlIiB3aWR0aD0iMjY5IiBoZWlnaHQ9IjE4MSIgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgMSAtMTI5Ljc3MjggLTM4LjU4MjUpIi8+PC9nPjwvZz48ZyBkaXNwbGF5PSJub25lIj48ZyBkaXNwbGF5PSJpbmxpbmUiPjxwYXRoIGZpbGw9IiNCNUI1QjUiIGQ9Ik0tOC4zIDEuNGMxNy4xIDAgMzQuMyAwIDUxLjQgMCA2LjggMCA5LjYgMi44IDkuNiA5LjcgMCAyNCAwIDQ3LjkgMCA3MS45IDAgNS45LTMuNiA5LjQtOS41IDkuNCAtMzMuNiAwLTY3LjMgMC0xMDAuOSAwIC0xLjYgMC0zLjIgMC4xLTQuOS0wLjYgLTQtMS41LTUuNi0zLjMtNS43LTcuNiAtMC4xLTYuNyAwLTEzLjMgMC0yMCAwLTE4LjEgMC0zNi4zIDAtNTQuNCAwLTUuNyAyLjctOC40IDguNS04LjRDLTQyLjYgMS40LTI1LjQgMS40LTguMyAxLjR6TS03LjYgMTIuNWMtMTUuMSAwLTMwLjMgMC00NS40IDAgLTQuMSAwLTQuMiAwLTQuMiA0IDAgMjAuMyAwIDQwLjYgMCA2MC45IDAgNCAwLjEgNCA0LjEgNCAzMC4zIDAgNjAuNiAwIDkwLjkgMCAzLjkgMCAzLjktMC4xIDMuOS0zLjcgMC0yMC41IDAtNDAuOSAwLTYxLjQgMC0zLjctMC4xLTMuOC0zLjktMy44QzIyLjcgMTIuNCA3LjUgMTIuNS03LjYgMTIuNXpNLTggNzcuNGMtMTQuMiAwLTI4LjMgMC00Mi41IDAgLTEuNiAwLTMuMiAwLjQtMS40LTIuMSA0LjQtNi4zIDguNi0xMi45IDEyLjgtMTkuNCAwLjktMS40IDEuNy0xLjEgMi43LTAuMSAxLjIgMS4zIDIuNiAyLjYgMy45IDMuOSAyLjMgMi4yIDIuNSAyLjIgNC43LTAuMyA0LjctNS41IDkuMy0xMS4yIDE0LTE2LjcgMC40LTAuNSAwLjktMSAxLjMtMS41IDQuOS01LjMgNC45LTUuMyAxMC0wLjUgMi40IDIuMiAyLjYgMi4zIDQuNy0wLjIgMy4zLTMuOSA2LjQtOCA5LjYtMTIgMC40LTAuNSAwLjctMS4xIDEuMS0xLjYgMi0yLjQgMi4zLTIuNCA0IDAuMiA2LjYgOS45IDEzLjEgMTkuOCAxOS42IDI5LjcgMC45IDEuNCAxLjQgMi45IDEuNCA0LjcgLTAuMSA0LjMtMC4yIDguNyAwIDEzIDAuMSAyLjUtMSAzLTMuMiAzQzIwLjQgNzcuNCA2LjIgNzcuNC04IDc3LjR6Ii8+PC9nPjwvZz48cGF0aCBmaWxsPSJub25lIiBkPSJNMzcuNyAyMS40YzYuMiAwIDExIDUgMTEgMTEuNCAwIDYuNy00LjEgMTAuNi0xMS4zIDEwLjYgLTUuOSAwLTEwLjYtNC43LTEwLjctMTAuNEMyNi41IDI2LjYgMzIgMjEuNCAzNy43IDIxLjR6Ii8+PHBhdGggZmlsbD0iI0I1QjVCNSIgZD0iTTEyNi4xIDE2LjNjLTE2LjYtNC40LTM5LjItOS42LTU1LjgtMTQuMSAtMC41LTAuMS0xLjEtMC4zLTEuNi0wLjRsLTUuMSA2LjQgMC40IDMuOGMxLjQgMC40IDIuOCAwLjcgNC4yIDEuMSAxNC42IDMuOSAzNS4zIDguNiA0OS45IDEyLjUgMy43IDEgMy44IDEgMi44IDQuNSAtNS4zIDE5LjgtMTAuNiAzOS41LTE1LjkgNTkuMyAtMSAzLjUtMSAzLjUtNC44IDIuNSAtMTYuNC00LjQtMTQuNy0zLjgtMzEuMS04LjJsLTEuNSAxMWMxNy43IDQuNyAxNy4zIDQuNSAzNSA5LjIgNS43IDEuNSAxMC4xLTEgMTEuNy02LjYgNi4yLTIzLjIgMTIuNC00Ni4yIDE4LjYtNjkuM0MxMzQuNiAyMS40IDEzMi42IDE4IDEyNi4xIDE2LjN6TTk4LjIgODdjMi4yIDAuNiAzLjMgMC41IDMuOS0yIDAuOS00LjIgMi4xLTguMyAzLjMtMTIuNSAwLjUtMS43IDAuNC0zLjMtMC4xLTQuOCAtMy43LTExLjMtNy40LTIyLjUtMTEuMi0zMy44IC0xLTMtMS4yLTMtMy44LTEuMiAtMC41IDAuNC0xIDAuOS0xLjUgMS4zIC00LjEgMy4xIDEuOSAxMC4yLTIuMyAxMy4xIC0yLjcgMS45LTIuOSAxLjctNC42LTEgLTAuNi0xLTEuMS0xLjgtMS41LTIuNGwtOS40IDEzLjUgNC4zIDExTDYzLjUgNzguN2MxLjMgMC4zIDIuNSAwLjcgMy44IDFDODAuOSA4My40IDg0LjYgODMuMyA5OC4yIDg3eiIvPjxwYXRoIGZpbGw9IiNCNUI1QjUiIGQ9Ik0yMi41IDg0Yy00LjEgMC40LTQuMSAwLjQtNC41LTMuNiAtMi4xLTIwLjItNC4yLTQwLjQtNi4zLTYwLjYgLTAuNC0zLjktMC4zLTQgMy44LTQuNCAxMy42LTEuNCAyNy4zLTIuOCA0MC45LTQuMmwtMS43LTMuNEw1Ny4yIDBjLTE2LjUgMS43LTMzIDMuNC00OS41IDUuMSAtNS44IDAuNi04LjIgMy41LTcuNiA5LjIgMS45IDE4LjEgMy43IDM2LjEgNS42IDU0LjFDNi40IDc1LjEgNyA4MS43IDcuOCA4OC4zYzAuNSA0LjMgMi4yIDUuOSA2LjQgNyAxLjcgMC41IDMuMyAwLjIgNC45IDAgMTUuMy0xLjYgMzAuNS0zLjIgNDUuOC00LjdsLTIuNS0xMC44QzQ5LjEgODEuMiAzNS44IDgyLjYgMjIuNSA4NHpNNjIuMyA1Mi41bDQtMTUuOWMtMy40LTIuNC00LTEuNi03LjYgMy4zIC0wLjQgMC41LTAuOCAxLjEtMS4yIDEuNiAtNC4xIDYtOC4xIDEyLjEtMTIuMiAxOC4xIC0yLjIgMy4xLTIuMiAyLjYtNi0wLjMgLTEtMC43LTEuOS0xLjUtMi44LTIuNCAtMS4yLTEuMS0yLjEtMS4zLTMgMSAtMi43IDYuNy02LjIgMTMuMS0xMCAxOS4yIC0yLjEgMy41LTAuNSAyLjggMS4yIDIuNyAxMi44LTEuMyAyNS42LTIuNyAzOC40LTRsNy4xLTE0LjNMNjIuMyA1Mi41ek0zNyA0My4zYzcuMS0wLjcgMTAuOC01IDEwLjEtMTEuNyAtMC43LTYuNC02LTEwLjktMTIuMS0xMC4zIC01LjcgMC42LTEwLjYgNi4zLTkuOCAxMi43QzI2IDM5LjggMzEuMSA0My45IDM3IDQzLjN6Ii8+PGcgZGlzcGxheT0ibm9uZSIvPjwvc3ZnPg==",loadingTemplateUrl:!1,loadingTemplate:!1,disableLazy:!1,nodesCDN:!0,offset:50,aspectRatio:null};c.nImageOptions&&(C=angular.extend(C,j(c.nImageOptions))),t=c.alt,u=c.width,v=c.height,w=C.aspectRatio||c.aspectRatio,x=c.mode,c.$observe("nSrc",function(){s=j(c.nSrc),void 0!==typeof s&&B&&e()}),f(),k(),C.disableLazy&&e(),y.addEventListener("scroll",k),y!==d.$window&&y.addEventListener("resize",k),a.$on("$destroy",function(){return l()})},a.$inject=[],a}(),c=function(){function a(a,b,c,d,e){this.$window=a,this.$q=b,this.$http=c,this.$timeout=d,this.$templateCache=e,this.isLoading=!0}return a.$inject=["$window","$q","$http","$timeout","$templateCache"],a}();angular.module("nImage").directive("nImage",b.instance)}(a||(a={}))}}}),a.register("1",["2","3","4"],function(a,b){"use strict";b&&b.id;return{setters:[function(a){},function(a){},function(a){}],execute:function(){}}})})(function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof module&&module.exports&&"function"==typeof require?module.exports=a():a()});
//# sourceMappingURL=component.min.js.map